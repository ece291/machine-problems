<HTML>
<HEAD>
   <TITLE>ECE291 Machine Problem 4/5</TITLE>
</HEAD>
<BODY>

<TABLE CELLPADDING=3 WIDTH="100%" >
<TR>
<TD align=left   width=33%>ECE291</TD>

<TD align=center width=34%>Computer Engineering II</TD>

<TD align=right  width=33%>Moorman, Summer 1998</TD>
</TR>
</TABLE>

<H1 ALIGN=CENTER>Machine Problem 4/5: Grading Report</H1>

<CENTER><P><I><FONT SIZE=-1>Please print this page and provide it to the
TA when you demonstrate your machine problem. <BR>
When you submit this, the TA should: 3<BR>
check your solutions, <BR>
ask a random question that tests your understanding of the MP,<BR>
assign points for each item on the list,<BR>
assign bonus/penalty points,<BR>
and provide the floppy for electronic handin.<BR>
This page should be stapled to the front of your MP3 assignment. </FONT></I></P></CENTER>

<CENTER><P><FORM></P></CENTER>

<CENTER><TABLE CELLPADDING=7 >
<TR>
<TD>
<TABLE>
<TR>
<TD align=right>Name: </TD>

<TD><INPUT name="name" size=30></TD>
</TR>

<TR>
<TD align=right>Date Submitted: </TD>

<TD><INPUT name="submitted" size=20></TD>
</TR>

<TR>
<TD align=right>Demo To: </TD>

<TD><INPUT name="demoto" size=6>Graded By: <INPUT name="gradedby" size=6></TD>
</TR>
</TABLE>
</TD>

<TD>
<TABLE BORDER=1 >
<TR>
<TD><INPUT type=checkbox name="gradebook">Handin to floppy </TD>
</TR>

<TR>
<TD><INPUT type=checkbox name="gradebook">Score recorded </TD>
</TR>

<TR>
<TD><INPUT type=checkbox name="gold_star">Gold Star<BR>
<I>Programming Excellence</I></TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE></CENTER>


<P></FORM></P>

<TABLE BORDER=1 CELLPADDING=3 WIDTH="100%" >
<TR>
<TH>Category</TH>

<TH>Points</TH>

<TH>Min</TH>

<TH>Max</TH>
</TR>

<TR> <TD><B>CopySeg</B> 
        <UL>
        <LI>Correctly copies data from segment ES to GS.
        <LI>Copies the correct number of bytes.
        <LI>Uses string instructions as needed.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR> <TD><B>Load_PCX</B> 
        <UL>
        <LI>Loads a PCX file into the segment specified by ES.
        <LI>Uses the DOS file functions for opening, closing, and reading
            files.
        <LI>Correctly uncompresses the PCX file.
        <LI>Properly loads the palette for the PCX file.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>6</TD> </TR>

<TR><TD><B>CopySprite</B> 
        <UL>
        <LI>Properly copies a sprite from a source segment GS to
            a destination segment ES.
        <LI>Only copies the desired number of pixels for the specified
            height and width.
        <LI>Uses the data structure input variables.
        <LI>Uses the first pixel in the source as the transparent color.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>6</TD> </TR>

<TR><TD><B>Load_Game</B> 
        <UL>
        <LI>Loads the PCX files and sets up the correct initial game
            screen.
        <LI>Uses <tt>BKGRND.PCX</tt> and <tt>PIECES.PCX</tt>.
        <LI>Properly displays the tanks to the correct location.
        <li>Properly displays text to the proper location.
        <LI>The correct initial <tt>Angle</tt> and <tt>Power</tt>
            values are displayed.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Update_Screen</B> 
        <UL>
        <LI>Updates video memory with the buffered data in <tt>VBufSeg</tt>.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>1</TD> </TR>

<TR><TD><B>DrawNum</B> 
        <UL>
        <LI>Draws a number to the screen at the specified location.
        <LI>Uses GS as the source segment and ES as the destination
            segment.
        <LI>Correctly computes each individual digit.
        <LI>Erases old digits before displaying new digits.
        <LI>Leading zeros are not displayed to the screen.
        <LI>Uses the sprite structure data.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

                                     
<TR><TD><B>DrawText</B> 
        <UL>
        <LI>Properly draws the text messages to the screen.
        <LI>Uses GS as the source segment and ES and the destination
            segment.
        <LI>Uses <i>DrawNum</i> to update the numbers.
        <LI>Uses the sprite structures for data information.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>3</TD> </TR>

<TR><TD><B>Draw_Gun</B> 
        <UL>
        <LI>Draws the gun turret for the current player at the correct
            angle.
        <LI>Works for arbitrary angles between 0 and 180 by using table
            lookups.
        <LI>Uses GS as the source segment and ES and the destination
            segment.
        <LI>Can draw the turret for any color as passed in the input.
        <LI>Uses the address of the player structure.
        <LI>Can draw all 23 positions from the <tt>Angle_Table</tt>.
        <LI>Correctly updates the bomb variables.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>6</TD> </TR>


<TR><TD><B>Player_Shot</B> 
        <UL>
        <LI>Correctly determines what the active player wants to do.
        <LI>Reads keyboard input to change <tt>Angle</tt> and <tt>Power</tt>
            values and to shoot or quit.
        <LI>Correctly works for the arrow keys.
        <LI>Uses GS as the source segment and ES and the destination
            segment.
        <LI>Make sure the gun turret position is updated and the new
            text number values are updated to the screen.
        <LI>Keeps the values of the variables properly within range.
        <LI>Uses AX to return the Quit/Continue results.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>7</TD> </TR>

<TR><TD><B>Install_Timer</B> 
        <UL>
        <LI>Correctly installs the new timer interrupt in the interrupt
            vector table.
        <LI>Stores the old interrupt into the <tt>OldVector</tt> variable.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>Deinstall_Timer</B> 
        <UL>
        <LI>Correctly deinstalls the timer interrupt.
        <LI>Restores the old interrupt from the <tt>OldVector</tt>
            variable into the interrupt vector table.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>IntTimer</B>
        <UL>
        <LI>Properly calls or chains the old interrupt in <tt>OldVector</tt>.
        <LI>Sets the <tt>Timer_Flag</tt> variable every clock tick (1/18 sec)
            when the <tt>Flag_Shot</tt> is set.
        <LI>Correctly counts down the <tt>ExpCount</tt> until it is zero.
        <LI>Correctly call <i>Implosion</i> to erase the previous explosion
            when the explosion counter expires.  This should only be called
            one time for every explosion.
        <LI>Calls the <i>Fall</i> routine to update the next iteration of
            the falling ground effect.
        <LI>Does NOT destroy any registers during operation.
        <LI>Does NOT assume any register values upon entry.
        <LI>Correctly sets up the necessary segments so that the video
            buffer is properly updated.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>7</TD> </TR>

<TR><TD><B>Shoot</B>
        <UL>
        <LI>Correctly calculates the bomb trajectory according to the
            known equations of physical motion.
        <LI>Properly updates the segment specified by ES.
        <LI>Uses floating point calculations which are then converted to
            integer values.
        <LI>Sets the <tt>Shot_Flag</tt> at the beginning of a shot and
            clears it upon a collision.
        <LI>Updates the trajectory position each time <tt>Timer_Flag</tt>
            is set in the <i>IntTimer</i> routine.
        <LI>Makes sure new bomb positions are properly drawn to the
            video buffer as the bomb trajectory.
        <LI>Uses the proper Bomb variables and floating point constant
            values for the calculations.
        <LI>Properly uses <i>Collision</i> to determine when a shot
            has finished.
        <LI>Properly begins an explosion upon a collision event.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>10</TD> </TR>

<TR><TD><B>Collision</B>
        <UL>
        <LI>Properly calculates when the current bomb position has collided
            with some object.
        <LI>Properly uses ES as the segment to be checked.
        <LI>Correctly detects bombs that go out of range above the screen.
        <LI>Correctly detects bombs that go out of range below the screen.
        <LI>Correctly finds collisions with ground or tanks only.
        <LI>Uses BX to output the proper results to the calling function.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Explosion</B>
        <UL>
        <LI>Properly performs an explosion at the proper location.
        <LI>Calculates all necessary <tt>Damage</tt> according to each
            tank pixel that is hit.
        <LI>Doesn't allow MaxPower of either player to go out of range.
        <LI>Doesn't allow a players Power to exceed their updated
            MaxPower.
        <LI>Updates <tt>LastExpPos</tt> for <i>Implosion</i>.
        <LI>Sets the <tt>ExpCount</tt> to hold the explosion for 2 seconds.
        <LI>Uses the <tt>ExpPos</tt> table to draw out the explosion.
        <LI>Uses some palette technique to distinguish between explosion
            pixels hitting a tank and those not hitting a tank.
        <LI>Properly uses ES as the segment to be updated.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Implosion</B>
        <UL>
        <LI>Properly performs an implosion at the proper location.
        <LI>Updates all explosion pixels that were ground or sky with sky.
        <LI>Updates all tank pixels with the proper color value.
        <LI>Uses the <tt>ExpPos</tt> table to draw out the implosion.
        <LI>Uses some palette technique to distinguish between fixing
            explosion for the separate tanks.
        <LI>Properly uses ES as the segment to be updated.
        <LI>Properly saves and restores all registers since it will be
            called from a timer interrupt.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>4</TD> </TR>

<TR><TD><B>Fall</B>
        <UL>
        <LI>Properly calculates on iteration of falling ground.
        <LI>The fall is updated in the proper direction for a
           'falling down of dirt' effect and not a 'floating up
           of sky' effect.
        <LI>Properly uses ES as the segment to be updated.
        <LI>Properly saves and restores all registers since it will be
            called from a timer interrupt.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>4</TD> </TR>

<TR><TD><B>CheckWin</B>
        <UL>
        <LI>Correctly determines if any player has won the game.
        <LI>Properly displays the winning text message to the screen
            as needed.
        <LI>Uses each players MaxPower for the winning determination.
        <LI>Properly uses ES as the segment to be updated and GS as the
            source Sprite segment.
        <LI>Uses the proper sprite structures as needed.
        <LI>Returns in AX the game continue/over results.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Your Routine</B>
        <UL>
        <LI>Adds some worthwhile functionality to the program.
        <LI>Involves some advanced concept of programming (probably
            specific to assembly).
        <LI>Is written in a modular and efficient fashion.
        <LI>Is well thought out and well documented in the code.  This will
            include some type of function header defining the function,
            inputs, outputs, and any necessary notes about the operation
            of the procedure.
        <LI>Involves a level of programming equivalent to around 2 or 3
            normal MP procedures (as it is worth approximately that number
            of points).
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>15</TD> </TR>


<TR>
<TD><B>Checkpoint 1: (MP4) Functionality SubTotal</B> </TD>
<TD> <PRE> </PRE> </TD> <TD>0</TD> <TD>50</TD> </TR>

<tr><td><b>Comments</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Clear and precise line & procedure comments <Br>
      (describes all major routines): -0
  <li>Sports Announcer comments (line-by-line): -1
  <li>Unclear comments: -1
  <li>Sparse comments: -3
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Technique & Style</b>  <i>(* percentage of code written)</i><br>
  <ul>
  <li>Compact and Efficient code: -0
  <li>Contains repeated code (lacks loops): -3 
  <li>Makes poor use of registers and/or variables: -2 <Br>
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>I/O Specs & Modularity</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Violates specifications for given subroutines: -5
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Penalty/Bonus</b> <br>
    <i>Before 5pm, Fri 7/24/98: +1 pt/weekday</i><br>
    <i>After 5pm, Fri 7/24/98: -10 pts/weekday </i>
    </td><td><pre> </pre></td><td>-50</td><td>5</td></tr>

<tr><td><b>Checkpoint 1: (MP4) Total</b> </td><td><pre> </pre></td>  <td>0</td><td>55</td></tr>

<TR>
<TD><B>Checkpoint 2: (MP5) Functionality SubTotal</B> </TD>
<TD> <PRE> </PRE> </TD> <TD>0</TD> <TD>50</TD> </TR>

<tr><td><b>Comments</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Clear and precise line & procedure comments <Br>
      (describes all major routines): -0
  <li>Sports Announcer comments (line-by-line): -1
  <li>Unclear comments: -1
  <li>Sparse comments: -3
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Technique & Style</b>  <i>(* percentage of code written)</i><br>
  <ul>
  <li>Compact and Efficient code: -0
  <li>Contains repeated code (lacks loops): -3 
  <li>Makes poor use of registers and/or variables: -2 <Br>
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>I/O Specs & Modularity</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Violates specifications for given subroutines: -5
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Penalty/Bonus</b> <br>
    <i>Before 5pm, Wed 7/29/98: +1 pt/weekday</i><br>
    <i>After 5pm, Wed 7/29/98: -10 pts/weekday </i>
    </td><td><pre> </pre></td><td>-50</td><td>5</td></tr>

<tr><td><b>Checkpoint 2: (MP5) Total</b> </td><td><pre> </pre></td>  <td>0</td><td>55</td></tr>

<tr><td><b>Total (MP4 and MP5)</b> </td><td><pre> </pre></td>  <td>0</td><td>110</td></tr>


</TABLE>

</BODY>
</HTML>
