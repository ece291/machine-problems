<HTML>
<HEAD>
   <TITLE>ECE291 Machine Problem 4/5</TITLE>
</HEAD>
<BODY>

<TABLE CELLPADDING=3 WIDTH="100%" >
<TR>
<TD align=left   width=33%>ECE291</TD>

<TD align=center width=34%>Computer Engineering II</TD>

<TD align=right  width=33%>Moorman, Summer 1999</TD>
</TR>
</TABLE>

<H1 ALIGN=CENTER>Machine Problem 4/5: Grading Report</H1>

<CENTER><P><I><FONT SIZE=-1>Please print this page and provide it to the
TA when you demonstrate your machine problem. <BR>
When you submit this, the TA should: <BR>
check your solutions, <BR>
ask a random question that tests your understanding of the MP,<BR>
assign points for each item on the list,<BR>
assign bonus/penalty points,<BR>
and provide the floppy for electronic handin.<BR>
This page should be stapled to the front of your MP3 assignment. </FONT></I></P></CENTER>

<CENTER><P><FORM></P></CENTER>

<CENTER><TABLE CELLPADDING=7 >
<TR>
<TD>
<TABLE>
<TR>
<TD align=right>Name: </TD>

<TD><INPUT name="name" size=30></TD>
</TR>

<TR>
<TD align=right>Date Submitted: </TD>

<TD><INPUT name="submitted" size=20></TD>
</TR>

<TR>
<TD align=right>Demo To: </TD>

<TD><INPUT name="demoto" size=6>Graded By: <INPUT name="gradedby" size=6></TD>
</TR>
</TABLE>
</TD>

<TD>
<TABLE BORDER=1 >
<TR>
<TD><INPUT type=checkbox name="gradebook">Handin to floppy </TD>
</TR>

<TR>
<TD><INPUT type=checkbox name="gradebook">Score recorded </TD>
</TR>

<TR>
<TD><INPUT type=checkbox name="gold_star">Gold Star<BR>
<I>Programming Excellence</I></TD>
</TR>
</TABLE>
</TD>
</TR>
</TABLE></CENTER>


<P></FORM></P>

<TABLE BORDER=1 CELLPADDING=3 WIDTH="100%" >
<TR>
<TH>Category</TH>

<TH>Points</TH>

<TH>Min</TH>

<TH>Max</TH>
</TR>

<TR> <TD><B>CopySeg</B> 
        <UL>
        <LI>Correctly copies data from segment ES to GS.
        <LI>Copies the correct number of bytes.
        <LI>Uses string instructions as needed.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>3</TD> </TR>

<TR> <TD><B>Load_PCX</B> 
        <UL>
        <LI>Loads a PCX file into the segment specified by ES.
        <LI>Uses the DOS file functions for opening, closing, and reading
            files.
        <LI>Correctly uncompresses the PCX file.
        <LI>Properly loads the palette for the PCX file.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>CopySprite</B> 
        <UL>
        <LI>Properly copies a sprite from a source segment GS to
            a destination segment ES.
        <LI>Only copies the desired number of pixels for the specified
            height and width.
        <LI>Uses the data structure input variables.
        <LI>Uses the first pixel in the source as the transparent color.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Load_Game</B> 
        <UL>
        <LI>Loads the PCX files and sets up the correct initial game
            screen.
        <LI>Uses <tt>BKGRND.PCX</tt> and <tt>GRAPHICS.PCX</tt>.
        <LI>Properly puts each file into the correct segment.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Update_Screen</B> 
        <UL>
        <LI>Updates video memory with the buffered data in <tt>VBufSeg</tt>.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>


<TR><TD><B>Show_Map</B>
        <UL>
        <LI>Properly draws the map to the screen.
        <LI>Uses the <tt>GameMap</tt> variable to read game tiles.
        <LI>Correctly draws two different tiles to a single block
            on the screen.
        <LI>Uses <tt>MapTop</tt> to start drawing the Map to the screen.
        <LI>Set <tt>Map_Flag</tt> properly when the End of the Map
            (EOF) is found.
        <LI>Properly uses ES as the segment to be updated.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>10</TD> </TR>

<TR><TD><B>Scroll_Screen</B>
        <UL>
        <LI>Properly scrolls the map on the screen if needed.
        <LI>Checks both Players to see if either marble is at the
            bottom of the screen.
        <LI>Doesn't allow scrolling if either marble is still at
            the top of the screen.
        <LI>Uses the constants <tt>SCROLLTOP</tt> and
            <tt>SCROLLBOTTOM</tt> for checking positions.
        <LI>If scrolling is needed updates both Players current position
            and next position by <tt>BlockHeight</tt>.
        <LI>Updates <tt>MapTop</tt> to reflect the scrolling screen.
        <LI>Doesn't scroll once <tt>Map_Flag</tt> is set.
        <LI>Uses the <i>ShowMap</i> routine for the map scrolling.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>


<TR><TD><B>Install_Timer</B> 
        <UL>
        <LI>Correctly installs the new timer interrupt in the interrupt
            vector table.
        <LI>Stores the old interrupt into the <tt>Old_Vector</tt> variable.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>Deinstall_Timer</B> 
        <UL>
        <LI>Correctly deinstalls the timer interrupt.
        <LI>Restores the old interrupt from the <tt>Old_Vector</tt>
            variable into the interrupt vector table.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>IntTimer</B>
        <UL>
        <LI>Properly calls or chains the old interrupt in <tt>Old_Vector</tt>.
        <LI>Sets the <tt>Timer_Flag</tt> variable every clock tick (1/18 sec).
        <LI>Does NOT destroy any registers during operation.
        <LI>Does NOT assume any register values upon entry.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>4</TD> </TR>

<TR><TD><B>Install_Keyboard</B> 
        <UL>
        <LI>Correctly installs the new keyboard interrupt in the interrupt
            vector table.
        <LI>Stores the old interrupt into the <tt>Old_KBVector</tt> variable.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>Deinstall_Keyboard</B> 
        <UL>
        <LI>Correctly deinstalls the keyboard interrupt.
        <LI>Restores the old interrupt from the <tt>Old_KBVector</tt>
            variable into the interrupt vector table.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>2</TD> </TR>

<TR><TD><B>IntKeyboard</B>
        <UL>
        <LI>Correctly checks the scan codes for 'ESC' and sets
                <tt>Exit_Flag</tt> if needed.
        <LI>Correctly reads scan codes to get the key pressed.
        <LI>Does not accept keyboard input once the <tt>Win_Flag</tt> is set.
        <LI>Only allows keyboard input for each player when the
                <tt>Player?.Key</tt> field is set, signifying a collision.
        <LI>Correctly recognizes the proper keys for each respective Player.
        <LI>Correctly adds force to a Player in the proper direction for
                the pressed key.
        <LI>Properly acknowledges the keyboard.
        <LI>Correctly send End of Interrupt (EOI) signal to the PIC.
        <LI>Does NOT destroy any registers during operation.
        <LI>Does NOT assume any register values upon entry.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>6</TD> </TR>

<TR><TD><B>Move</B>
        <UL>
        <LI>Correctly calculates the marble position according to the
            known equations of physical motion.
        <LI>Uses floating point calculations which are then converted to
            integer values.
        <LI>Updates the Player <tt>Nx</tt> and <tt>Ny</tt> fields
            according to the calculated displacements.
        <LI>Checks displacement and limits to <tt>MAXDISPL</tt> in the
            proper direction.
        <LI>Also puts a limit on the stored velocity of <tt>MAXVELOCITY</tt>
            if the maximum displacement has been exceeded.
        <LI>Uses the proper Marble variables and floating point constant
            values for the calculations.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>13</TD> </TR>

<TR><TD><B>Update_Collision</B>
        <UL>
        <LI>Properly uses <i>CollisionCore</i> when the current
            marble position has collided with a wall.
        <LI>Correctly uses SI to access the proper Player fields.
        <LI>Properly uses ES as the segment to be checked.
        <LI>Correctly updates the horizontal velocities using the
            <tt>REBOUND</tt> variable.
        <LI>Correctly updates the downward velocity using the
            <tt>BOUNCE</tt> variable.
        <LI>Correctly updates the upward velocity with a change in
            direction.
        <LI>Correctly sets the Forces to zero when no collision has occured.
        <LI>Sets the <tt>Key</tt> flag to 1 during collision and 0 otherwise.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Update_Players</B>
        <UL>
        <LI>Properly updates each Players position on the screen.
        <LI>Uses the <i>Move</i> and <i>Update_Collision</i>
            procedures to update the Player positions.
        <LI>Correctly erases the old Player position before drawing
            the new Player position to the screen.
        <LI>Uses <i>CopySprite</i> to make video screen changes.
        <LI>Uses <i>CheckWin</i> to determine when the game has ended.
        performs an explosion at the proper location.
        <LI>Properly uses ES as the segment to be updated.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>9</TD> </TR>


<TR><TD><B>CheckWin</B>
        <UL>
        <LI>Correctly determines if any player has won the game.
        <LI>Properly displays the winning text message to the screen
            as needed.
        <LI>Uses constants <tt>BASKET_TOPY</tt> and <tt>BASKET_BOTTOMY</tt>
            to determine a marble has entered a basket.
        <LI>Properly uses ES as the segment to be updated and GS as the
            source Sprite segment.
        <LI>Uses the proper sprite structures as needed.
        <LI>Set the <tt>Win_Flag</tt> variable upon finding a marble in
            the basket.
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>5</TD> </TR>

<TR><TD><B>Your Routine</B>
        <UL>
        <LI>Adds some worthwhile functionality to the program.
        <LI>Involves some advanced concept of programming (probably
            specific to assembly).
        <LI>Is written in a modular and efficient fashion.
        <LI>Is well thought out and well documented in the code.  This will
            include some type of function header defining the function,
            inputs, outputs, and any necessary notes about the operation
            of the procedure.
        <LI>Involves a level of programming equivalent to around 2 or 3
            normal MP procedures (as it is worth approximately that number
            of points).
        </UL></TD> <TD><PRE> </PRE></TD>   <TD>0</TD>  <TD>15</TD> </TR>


<TR>
<TD><B>Checkpoint 1: (MP4) Functionality SubTotal</B> </TD>
<TD> <PRE> </PRE> </TD> <TD>0</TD> <TD>50</TD> </TR>

<tr><td><b>Comments</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Clear and precise line & procedure comments <Br>
      (describes all major routines): -0
  <li>Sports Announcer comments (line-by-line): -1
  <li>Unclear comments: -1
  <li>Sparse comments: -3
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Technique & Style</b>  <i>(* percentage of code written)</i><br>
  <ul>
  <li>Compact and Efficient code: -0
  <li>Contains repeated code (lacks loops): -3 
  <li>Makes poor use of registers and/or variables: -2 <Br>
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>I/O Specs & Modularity</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Violates specifications for given subroutines: -5
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Penalty/Bonus</b> <br>
    <i>Before 5pm, Fri 7/23/98: +1 pt/weekday</i><br>
    <i>After 5pm, Fri 7/23/98: -10 pts/weekday </i>
    </td><td><pre> </pre></td><td>-50</td><td>5</td></tr>

<tr><td><b>Checkpoint 1: (MP4) Total</b> </td><td><pre> </pre></td>  <td>0</td><td>55</td></tr>

<TR>
<TD><B>Checkpoint 2: (MP5) Functionality SubTotal</B> </TD>
<TD> <PRE> </PRE> </TD> <TD>0</TD> <TD>50</TD> </TR>

<tr><td><b>Comments</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Clear and precise line & procedure comments <Br>
      (describes all major routines): -0
  <li>Sports Announcer comments (line-by-line): -1
  <li>Unclear comments: -1
  <li>Sparse comments: -3
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Technique & Style</b>  <i>(* percentage of code written)</i><br>
  <ul>
  <li>Compact and Efficient code: -0
  <li>Contains repeated code (lacks loops): -3 
  <li>Makes poor use of registers and/or variables: -2 <Br>
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>I/O Specs & Modularity</b> <i>(* percentage of code written)</i> <br>
  <ul>
  <li>Violates specifications for given subroutines: -5
  </ul>
    </td><td><pre> </pre></td><td>-5</td><td>0</td></tr>

<tr><td><b>Penalty/Bonus</b> <br>
    <i>Before 5pm, Wed 7/28/98: +1 pt/weekday</i><br>
    <i>After 5pm, Wed 7/28/98: -10 pts/weekday </i>
    </td><td><pre> </pre></td><td>-50</td><td>5</td></tr>

<tr><td><b>Checkpoint 2: (MP5) Total</b> </td><td><pre> </pre></td>  <td>0</td><td>55</td></tr>

<tr><td><b>Total (MP4 and MP5)</b> </td><td><pre> </pre></td>  <td>0</td><td>110</td></tr>


</TABLE>

</BODY>
</HTML>
